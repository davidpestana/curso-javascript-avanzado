# 9.3 Transfiriendo funciones a otras funciones

## 🧠 ¿Qué significa esto?

En JavaScript, **las funciones son datos**. Igual que puedes pasar números o strings como argumentos, **también puedes pasar funciones** a otras funciones o devolverlas.

Esto permite:
✅ Crear funciones reutilizables
✅ Usar callbacks
✅ Hacer composición de funciones
✅ Construir utilidades avanzadas

---

## ✅ Pasar una función como argumento

```js
function operar(a, b, operacion) {
  return operacion(a, b); // callback
}

const sumar = (x, y) => x + y;
operar(5, 3, sumar); // 8
```

---

## 🔁 Devolver una función desde otra función

```js
function crearMultiplicador(factor) {
  return function(numero) {
    return numero * factor;
  };
}

const por2 = crearMultiplicador(2);
por2(5); // 10
```

---

## 🎯 Funciones de orden superior

Son funciones que reciben o devuelven otras funciones.

```js
function porCadaUno(lista, callback) {
  for (const item of lista) {
    callback(item);
  }
}

porCadaUno([1, 2, 3], console.log);
```

---

## 🔗 Componer funciones

```js
function componer(f, g) {
  return function(x) {
    return f(g(x));
  };
}

const doble = x => x * 2;
const cuadrado = x => x * x;
const dobleYcuadrado = componer(cuadrado, doble); // (x*2)^2
dobleYcuadrado(3); // 36
```

---

## 🧭 Usos típicos

✅ Callbacks
✅ Control de flujo
✅ Decoradores de funciones
✅ Middleware (Node.js, Express)

---

# 🛠 Laboratorio

## 🎯 Objetivos

* Pasar funciones como parámetros
* Devolver funciones desde otras funciones
* Entender funciones de orden superior
* Practicar composición

---

### Ejercicio 1 — Pasar funciones

```js
function ejecutar(fn) {
  fn();
}
ejecutar(() => console.log("¡Ejecutado!"));
```

---

### Ejercicio 2 — Operación con callback

```js
function operar(a, b, fn) {
  return fn(a, b);
}
operar(4, 2, (x, y) => x * y); // 8
```

---

### Ejercicio 3 — Función que devuelve función

```js
function crearSaludo(saludo) {
  return function(nombre) {
    return saludo + " " + nombre;
  };
}

const hola = crearSaludo("Hola");
hola("Ana"); // "Hola Ana"
```

---

### Ejercicio 4 — Iteración personalizada

```js
function porCadaUno(lista, callback) {
  for (const elem of lista) callback(elem);
}
porCadaUno(["🍎", "🍌", "🍇"], console.log);
```

---

### Ejercicio 5 — Decorador simple

```js
function conLog(fn) {
  return function(...args) {
    console.log("Llamada con args:", args);
    return fn(...args);
  };
}
const sumar = (a, b) => a + b;
const sumarConLog = conLog(sumar);
sumarConLog(2, 3); // loguea antes de ejecutar
```

---

## 🚀 Retos

1. Crea una función que reciba otra función y la ejecute 3 veces.
2. Haz un `filtrar(lista, condicion)` que funcione como `.filter()`.
3. Crea un decorador `medirTiempo(fn)` que calcule cuánto tarda en ejecutarse una función.