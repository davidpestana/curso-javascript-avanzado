# 4.2 Lanzar nuestras propias excepciones (`throw`)

## 💥 ¿Por qué lanzar errores propios?

A veces no basta con capturar errores: también queremos **generarlos** cuando algo va mal en nuestro código. Para eso usamos `throw`.

Lanzar un error:

* Detiene la ejecución normal
* Permite avisar que algo salió mal
* Obliga a quien usa nuestra función a gestionarlo

---

## ✅ Sintaxis básica

```js
throw "Algo fue mal";         // ❌ No recomendado (lanza un string)
throw new Error("Fallo X");   // ✅ Correcto
```

---

## 🎯 Ejemplo básico

```js
function dividir(a, b) {
  if (b === 0) {
    throw new Error("No se puede dividir por cero");
  }
  return a / b;
}

dividir(4, 2); // 2
dividir(4, 0); // 💥 Error
```

---

## 😎 Usar try/catch con throw

```js
try {
  dividir(4, 0);
} catch (error) {
  console.log("Error capturado:", error.message);
}
```

---

## 🧱 Tipos de errores personalizados

Puedes lanzar tipos diferentes según el caso:

```js
throw new TypeError("Tipo incorrecto");
throw new RangeError("Valor fuera de rango");
throw new SyntaxError("Formato inválido");
```

---

# 🛠 Laboratorio

## 🎯 Objetivos

* Lanzar errores de forma manual
* Validar argumentos de entrada
* Entender el mensaje del error

---

### Ejercicio 1 — Validar parámetros

Lanza un error si el usuario no pasa un número válido.

```js
function cuadrado(n) {
  if (typeof n !== "number") {
    throw new TypeError("El parámetro debe ser un número");
  }
  return n * n;
}
```

---

### Ejercicio 2 — Validar cadena

Exige que el nombre no esté vacío.

```js
function setNombre(nombre) {
  if (!nombre) {
    throw new Error("El nombre es obligatorio");
  }
  return `Nombre guardado: ${nombre}`;
}
```

---

### Ejercicio 3 — Validar rango

Una edad válida debe estar entre 0 y 120.

```js
function validarEdad(edad) {
  if (edad < 0 || edad > 120) {
    throw new RangeError("Edad fuera de rango");
  }
  return "Edad correcta";
}
```

---

### Ejercicio 4 — Función robusta con try/catch + throw

```js
function dividir(a, b) {
  if (typeof a !== "number" || typeof b !== "number") {
    throw new TypeError("Los parámetros deben ser números");
  }
  if (b === 0) {
    throw new Error("No se puede dividir entre cero");
  }
  return a / b;
}

try {
  console.log(dividir(10, 2)); // 5
  console.log(dividir("10", 2)); // error
} catch (error) {
  console.log("Ocurrió un problema:", error.message);
}
```

---

## 🚀 Retos

1. Crea una función `login(usuario, contraseña)` que lance errores si:

   * usuario o contraseña están vacíos
   * usuario tiene menos de 3 caracteres
2. Crea `calcularArea(radio)` y lanza error si el radio no es positivo.
3. Haz una función `parsearJSON(texto)` que:

   * use JSON.parse
   * capture errores
   * si falla, lance un nuevo error explicando qué pasó