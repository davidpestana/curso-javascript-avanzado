# 8.2 Constructores

## 🏗️ ¿Qué es un constructor?

Un **constructor** es una función especial que sirve como **plantilla para crear objetos**.
En JavaScript tradicional (antes de `class`), se usaban **funciones constructoras** con `new`.

---

## ✅ Sintaxis base

```js
function Persona(nombre, edad) {
  this.nombre = nombre;
  this.edad = edad;
}

const p1 = new Persona("Ada", 36);
const p2 = new Persona("Alan", 40);

console.log(p1.nombre); // Ada
console.log(p2.nombre); // Alan
```

---

## ⚠️ Importante: usar siempre `new`

Si olvidas `new`, `this` no apuntará bien y puede causar errores.

```js
const p = Persona("Ada", 36); // ❌ MAL, sin new
```

---

## ➕ Añadiendo métodos al constructor

```js
function Persona(nombre, edad) {
  this.nombre = nombre;
  this.edad = edad;
  this.saludar = function () {
    return "Hola, soy " + this.nombre;
  };
}

const p = new Persona("Ada", 36);
console.log(p.saludar());
```

---

## 🔧 Constructor para objetos complejos

```js
function Coche(marca, modelo, año) {
  this.marca = marca;
  this.modelo = modelo;
  this.año = año;
  this.encendido = false;
  this.encender = function () {
    this.encendido = true;
  };
}
```

---

## ⚙️ Crear varios objetos fácilmente

Un constructor permite crear objetos como una fábrica:

```js
const c1 = new Coche("Toyota", "Corolla", 2020);
const c2 = new Coche("Ford", "Focus", 2018);
```

---

# 🛠 Laboratorio

## 🎯 Objetivos

* Crear funciones constructoras
* Usar `new` correctamente
* Añadir métodos dentro del constructor
* Crear múltiples instancias

---

### Ejercicio 1 — Tu primer constructor

Crea un constructor `Animal(nombre, tipo)` que guarde esas propiedades.

```js
function Animal(nombre, tipo) {
  this.nombre = nombre;
  this.tipo = tipo;
}
const a = new Animal("Toby", "Perro");
```

---

### Ejercicio 2 — Método dentro del constructor

Añade un método `presentar()` al objeto creado.

```js
this.presentar = function () {
  return `Soy un ${this.tipo} y me llamo ${this.nombre}`;
};
```

---

### Ejercicio 3 — Varias instancias

Crea 3 animales distintos usando el constructor y guárdalos en un array.

```js
const mascotas = [
  new Animal("Max", "Perro"),
  new Animal("Luna", "Gato"),
  new Animal("Nemo", "Pez")
];
```

---

### Ejercicio 4 — Constructor con lógica

Haz un constructor `Producto(nombre, precio)` que solo acepte precio > 0, si no lanza error.

```js
function Producto(nombre, precio) {
  if (precio <= 0) throw new Error("Precio inválido");
  this.nombre = nombre;
  this.precio = precio;
}
```

---

### Ejercicio 5 — Propiedades por defecto

Añade una propiedad `stock` que sea 0 por defecto si no se pasa valor.

```js
function Producto(nombre, precio, stock = 0) {
  this.nombre = nombre;
  this.precio = precio;
  this.stock = stock;
}
```

---

## 🚀 Retos

1. Crea un constructor `Rectangulo(ancho, alto)` con método `area()`.
2. Crea `CuentaBancaria(titular, saldo)` con métodos `depositar` y `retirar` (sin permitir saldo negativo).
3. Crea `Libro(titulo, autor, paginas)` y método `descripcion()` que devuelva “___ de ___ con ___ páginas”.