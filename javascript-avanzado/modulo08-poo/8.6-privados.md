# 8.6 Propiedades y m√©todos privados (simulaci√≥n)

## üîí ¬øPor qu√© usar propiedades privadas?

En JavaScript tradicional, **no existe privacidad real** en objetos creados con funciones constructoras. Pero podemos **simularla** para:
‚úÖ Ocultar detalles internos
‚úÖ Proteger datos
‚úÖ Evitar modificaciones externas

---

## üõ†Ô∏è Forma 1: Privacidad con variables dentro del constructor (closure)

Podemos crear variables internas usando `let` dentro del constructor.
Esas variables **no son accesibles desde fuera**, solo mediante m√©todos p√∫blicos.

```js
function CuentaBancaria(titular, saldoInicial) {
  let saldo = saldoInicial; // privado ‚ùó

  this.titular = titular; // p√∫blico

  this.mostrarSaldo = function () {
    return saldo; // acceso permitido
  };

  this.depositar = function (monto) {
    saldo += monto;
  };
}

const c = new CuentaBancaria("Ana", 100);
c.depositar(50);
console.log(c.mostrarSaldo()); // 150
console.log(c.saldo); // undefined ‚ùå
```

‚úÖ Ventaja: `saldo` no puede ser modificado desde fuera.

---

## üõ†Ô∏è Forma 2: Convenci√≥n con `_propiedad`

No es privado real, pero se usa para **indicar** que no debe modificarse desde fuera.

```js
function Usuario(nombre, email) {
  this.nombre = nombre;
  this._email = email; // "privado" por convenci√≥n
}
```

üí¨ Es solo una convenci√≥n visual, **no protege realmente**.

---

## üõ†Ô∏è Forma 3: M√©todos privados simulados

Podemos usar funciones internas como m√©todos privados.

```js
function Persona(nombre) {
  function formatear() {       // privado
    return nombre.toUpperCase();
  }
  this.saludar = function () { // p√∫blico
    return "Hola " + formatear();
  };
}
```

---

## üîê Forma 4 (bonus moderno): Campos privados reales con `#` (JS moderno)

Funciona en clases modernas (veremos m√°s adelante), pero lo mencionamos aqu√≠:

```js
class Cuenta {
  #saldo = 0; // privado real

  depositar(monto) {
    this.#saldo += monto;
  }

  verSaldo() {
    return this.#saldo;
  }
}
```

---

# üõ† Laboratorio

## üéØ Objetivos

* Simular propiedades privadas
* Usar closures para ocultar informaci√≥n
* Crear m√©todos p√∫blicos que accedan a privados
* Diferenciar privado real vs simulado

---

### Ejercicio 1 ‚Äî Variable privada

Crea una cuenta con saldo privado accesible solo con m√©todos.

```js
function Cuenta(saldoInicial) {
  let saldo = saldoInicial;

  this.verSaldo = function () {
    return saldo;
  };
}
```

---

### Ejercicio 2 ‚Äî M√©todos privados simulados

```js
function Seguridad(clave) {
  function encriptar(texto) {
    return texto + "123";
  }
  this.obtenerClave = function () {
    return encriptar(clave);
  };
}
```

---

### Ejercicio 3 ‚Äî A√±adir m√©todos p√∫blicos

```js
function Caja() {
  let contenido = [];

  this.anadir = function (item) {
    contenido.push(item);
  };
  this.listar = function () {
    return contenido;
  };
}
```

---

### Ejercicio 4 ‚Äî Convenci√≥n con _

```js
function Config() {
  this._token = "abc123"; // No tocar ‚ùó
}
```

---

### Ejercicio 5 ‚Äî Comparativa

Explica por qu√© `#privado` es m√°s seguro pero a√∫n no est√° disponible en todos los entornos antiguos.

---

## üöÄ Retos

1. Crea una clase `Sesion` que oculte la contrase√±a usando variable privada.
2. Implementa un sistema de puntos con m√©todos `sumarPuntos()` y `verPuntos()` privado.
3. Simula un `Carrito` con array privado de productos y m√©todos p√∫blicos `agregar()` y `total()`.