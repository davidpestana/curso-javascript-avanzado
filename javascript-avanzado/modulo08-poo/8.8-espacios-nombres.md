# 8.8 Espacios de nombres (Namespaces)

## 🧭 ¿Qué es un namespace?

Un **namespace** es simplemente una forma de **agrupar código relacionado** dentro de un objeto para:
✅ Evitar colisiones de nombres
✅ Organizar mejor el código
✅ Crear módulos lógicos antes de usar import/export

JavaScript no tiene namespaces nativos como otros lenguajes, pero se pueden **simular fácilmente** usando objetos.

---

## 💥 Problema sin namespace

Todo en el global = caos 😵

```js
function sumar() {}
function restar() {}
function dividir() {}
function multiplicar() {}
// Si otra librería trae sumar() → 💥 conflicto
```

---

## ✅ Solución con namespace

Agrupar funciones dentro de un objeto:

```js
const Calculadora = {
  sumar(a, b) { return a + b; },
  restar(a, b) { return a - b; }
};

Calculadora.sumar(2, 3); // 5
```

---

## 🗂️ Namespaces anidados

Se pueden organizar jerárquicamente:

```js
const App = {
  Utils: {
    saludar(nombre) {
      return `Hola ${nombre}`;
    }
  },
  Math: {
    cuadrado(x) {
      return x * x;
    }
  }
};

App.Utils.saludar("Ana");
App.Math.cuadrado(4);
```

---

## 🔒 Namespace privado con IIFE

Se puede crear un namespace "semi-privado" usando función autoejecutable:

```js
const Contador = (function () {
  let valor = 0; // privado

  return {
    incrementar() { valor++; },
    obtener() { return valor; }
  };
})();
```

---

## 💼 Evitar el global

Reduce el uso de variables globales agrupando todo en un único objeto raíz.

```js
const MiApp = {};
MiApp.datos = {};
MiApp.funciones = {};
```

---

# 🛠 Laboratorio

## 🎯 Objetivos

* Organizar código mediante namespaces
* Evitar colisiones de nombres
* Usar IIFE para privacidad
* Encapsular módulos funcionales

---

### Ejercicio 1 — Crear un namespace básico

```js
const Tienda = {
  productos: [],
  agregar(nombre) {
    this.productos.push(nombre);
  }
};
```

---

### Ejercicio 2 — Namespace con varios módulos

```js
const Game = {
  Jugadores: [],
  Utils: {
    aleatorio(max) {
      return Math.floor(Math.random() * max);
    }
  }
};
```

---

### Ejercicio 3 — Namespace privado con IIFE

```js
const Sesion = (function () {
  let usuario = null;

  return {
    login(nombre) { usuario = nombre; },
    getUsuario() { return usuario; }
  };
})();
```

---

### Ejercicio 4 — Funciones agrupadas

Convierte esto:

```js
function sumar() {}
function restar() {}
function multiplicar() {}
```

En:

```js
const Calc = {
  sumar() {},
  restar() {},
  multiplicar() {}
};
```

---

### Ejercicio 5 — Buenas prácticas

Agrupa funciones relacionadas en namespaces: `UI`, `Validacion`, `Datos`.

---

## 🚀 Retos

1. Crea `App.Tareas` con métodos `agregar()`, `listar()` y `borrar()`.
2. Implementa `App.Utils.fecha()` que devuelva la fecha actual formateada.
3. Haz `Chat` como módulo privado con `enviar(mensaje)` y `historial()`.