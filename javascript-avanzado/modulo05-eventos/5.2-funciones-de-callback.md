# 5.2 Funciones de Callback

## 🤔 ¿Qué es un callback?

Un **callback** es una función que se pasa como argumento a otra función y se ejecuta después, cuando sea necesario. Muy típico en JavaScript para **manejar eventos, temporizadores y asincronía**.

👉 En resumen:
**Un callback es una función que llamas más tarde, no ahora.**

---

## ✅ Ejemplo básico

```js
function saludar() {
  console.log("Hola");
}

function ejecutarDespues(callback) {
  console.log("Antes");
  callback(); // llamamos al callback
}

ejecutarDespues(saludar);
// Antes
// Hola
```

---

## 🔧 Callback como función anónima

```js
function operar(a, b, callback) {
  return callback(a, b);
}

operar(3, 4, function(x, y) {
  return x + y;
}); // 7
```

---

## ⚡ Arrow function como callback

```js
operar(5, 3, (x, y) => x * y); // 15
```

---

## ⏳ Los callbacks se usan mucho con asincronía

```js
console.log("Inicio");

setTimeout(() => {
  console.log("Esto se ejecuta después de 2 segundos");
}, 2000);

console.log("Fin");
```

---

## 🎯 Eventos = callbacks

Cuando usas eventos, estás usando callbacks sin darte cuenta:

```js
boton.addEventListener("click", () => {
  console.log("Click detectado");
});
```

---

# 🛠 Laboratorio

## 🎯 Objetivos

* Entender cómo se pasa una función como parámetro
* Usar callbacks en funciones propias
* Aplicarlos en eventos del DOM y asincronía

---

### Ejercicio 1 — Crear tu primer callback

Crea una función que reciba tu nombre y una función callback para saludar.

```js
function procesarNombre(nombre, callback) {
  callback(nombre);
}

procesarNombre("Ada", function(n) {
  console.log("Hola " + n);
});
```

---

### Ejercicio 2 — Operaciones matemáticas con callback

Haz una función que acepte una operación como callback.

```js
function calcular(a, b, callback) {
  return callback(a, b);
}

calcular(5, 2, (x, y) => x + y); // 7
calcular(5, 2, (x, y) => x * y); // 10
```

---

### Ejercicio 3 — Callback en eventos

Haz que un botón cambie el color del fondo usando un callback.

```js
function cambiarColor(color) {
  document.body.style.backgroundColor = color;
}

boton.addEventListener("click", () => cambiarColor("lightblue"));
```

---

### Ejercicio 4 — Simular asincronía

Muestra un mensaje 1 segundo después.

```js
function despues(callback) {
  setTimeout(callback, 1000);
}

despues(() => console.log("Han pasado 1 segundo"));
```

---

### Ejercicio 5 — Callback con validación

Haz que una función valide si un número es par antes de ejecutar otra función.

```js
function siEsPar(numero, callback) {
  if (numero % 2 === 0) {
    callback(numero);
  } else {
    console.log("No es par");
  }
}

siEsPar(4, n => console.log(n + " es par")); // 4 es par
```

---

## 🚀 Retos

1. Crea una función `repetir(n, callback)` que ejecute el callback n veces.
2. Haz `leerUsuario(callback)` que pida un nombre con prompt y lo pase al callback.
3. Crea un "delay" personalizado: `esperar(ms, callback)`.